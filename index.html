<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chiếu Dời Đô - Lý Thái Tổ</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Cormorant+Garamond:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        body { 
            background-color: #050505; 
            margin: 0; 
            overflow: hidden; 
            font-family: 'Cormorant Garamond', serif;
        }
        
        /* Font Styles */
        .font-thuphap { font-family: 'Dancing Script', cursive; }
        .font-cungdinh { font-family: 'Playfair Display', serif; }
        .font-noidung { font-family: 'Cormorant Garamond', serif; }

        /* Animation Background Particles */
        .particles {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }
        .particle {
            position: absolute;
            width: 2px; height: 2px;
            background: #d4af37;
            border-radius: 50%;
            opacity: 0;
            animation: floatUp 10s infinite linear;
        }
        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            20% { opacity: 0.8; }
            80% { opacity: 0.5; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }

        /* Scroll Roller Visuals */
        .scroll-roller {
            background: linear-gradient(to bottom, 
                #5c4013 0%, 
                #8e6d13 20%, 
                #fcebb6 45%, 
                #d4af37 50%,
                #fcebb6 55%, 
                #8e6d13 80%, 
                #5c4013 100%);
            box-shadow: 0 10px 25px rgba(0,0,0,0.9);
            position: relative;
            z-index: 50;
        }

        .roller-end {
            background: radial-gradient(circle at 30% 30%, #ffecb3, #d4af37, #5c4013);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.8), 5px 5px 15px rgba(0,0,0,0.9);
            border: 1px solid #8e6d13;
        }

        /* Paper Styles */
        .paper-container {
            transition: height 5000ms cubic-bezier(0.45, 0, 0.55, 1); /* Linear-ish ease for heavy feel */
            width: 88vw;
            max-width: 56rem; /* max-w-4xl */
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            box-shadow: 0 0 100px rgba(0,0,0,0.8);
        }

        .paper-bg {
            width: 100%;
            height: 100%;
            background-color: #8a1c1c; /* Deep Imperial Red */
            background-image: 
                linear-gradient(90deg, rgba(0,0,0,0.2) 0%, transparent 5%, transparent 95%, rgba(0,0,0,0.2) 100%),
                url("https://www.transparenttextures.com/patterns/rice-paper-2.png");
            border-left: 4px double #d4af37;
            border-right: 4px double #d4af37;
            position: relative;
        }

        /* Text Styles */
        .text-gold-gradient {
            background: linear-gradient(to bottom, #fff8db, #d4af37, #b8860b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0px 2px 4px rgba(0,0,0,0.3);
            filter: drop-shadow(0 0 1px rgba(212, 175, 55, 0.5));
        }

        .text-gold-solid {
            color: #fcebb6;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        /* Dragon Pattern */
        .dragon-bg {
            position: absolute;
            inset: 0;
            background-image: url('https://www.transparenttextures.com/patterns/oriental-tiles.png');
            opacity: 0.15;
            mix-blend-mode: overlay;
        }

        /* Animations */
        .content-fade-in {
            animation: contentAppear 2s ease-out forwards;
        }
        @keyframes contentAppear {
            0% { opacity: 0; transform: translateY(20px); filter: blur(5px); }
            100% { opacity: 1; transform: translateY(0); filter: blur(0); }
        }

        .pulse-glow {
            animation: pulseGlow 3s infinite ease-in-out;
        }
        @keyframes pulseGlow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3)); transform: scale(1); }
            50% { filter: drop-shadow(0 0 25px rgba(212, 175, 55, 0.8)); transform: scale(1.02); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Particle Component for Atmosphere
        const Particles = () => {
            const [particles, setParticles] = useState([]);
            useEffect(() => {
                const count = 30;
                const newParticles = Array.from({ length: count }).map((_, i) => ({
                    id: i,
                    left: Math.random() * 100 + '%',
                    delay: Math.random() * 10 + 's',
                    duration: 5 + Math.random() * 10 + 's'
                }));
                setParticles(newParticles);
            }, []);

            return (
                <div className="particles">
                    {particles.map(p => (
                        <div key={p.id} className="particle" style={{ left: p.left, animationDelay: p.delay, animationDuration: p.duration }}></div>
                    ))}
                </div>
            );
        };

        const slides = [
            { 
                title: "Chiếu Dời Đô", 
                subtitle: "(Thiên Đô Chiếu)", 
                content: "Lý Công Uẩn", 
                subContent: "Mùa Thu, Năm Canh Tuất - 1010", 
                type: "intro" 
            },
            { 
                title: "I. Tác Giả", 
                heading: "Lý Thái Tổ", 
                points: [
                    "Tên húy: Lý Công Uẩn (974 – 1028).",
                    "Người làng Cổ Pháp, châu Cổ Pháp (nay thuộc Từ Sơn, Bắc Ninh).",
                    "Vị vua khai sáng triều đại nhà Lý rực rỡ.",
                    "Đức độ, trí tuệ, có tầm nhìn thiên niên kỷ."
                ] 
            },
            { 
                title: "II. Hoàn Cảnh", 
                heading: "Vận Nước Đang Lên", 
                points: [
                    "Năm 1010, sau khi lên ngôi Hoàng đế.",
                    "Nhận thấy Hoa Lư đất hẹp, địa thế hiểm trở chỉ hợp phòng thủ.",
                    "Đất nước cần không gian mới để phát triển phồn thịnh.",
                    "Quyết định dời đô về thành Đại La."
                ] 
            },
            { 
                title: "III. Địa Thế", 
                heading: "Thành Đại La", 
                points: [
                    "Nơi trung tâm trời đất, thế rồng cuộn hổ ngồi.",
                    "Đúng ngôi nam bắc đông tây, lại tiện hướng nhìn sông dựa núi.",
                    "Địa thế rộng mà bằng, đất đai cao mà thoáng.",
                    "Dân cư khỏi chịu cảnh khốn khổ ngập lụt."
                ] 
            },
            { 
                title: "IV. Ý Nghĩa", 
                heading: "Tầm Nhìn Vĩ Đại", 
                points: [
                    "Thể hiện ý chí độc lập, tự cường của dân tộc.",
                    "Đánh dấu sự trưởng thành của Đại Việt.",
                    "Mở ra kỷ nguyên Thăng Long văn hiến ngàn năm."
                ] 
            }
        ];

        function App() {
            const [isStarted, setIsStarted] = useState(false);
            const [currentSlide, setCurrentSlide] = useState(0);
            const [isUnrolling, setIsUnrolling] = useState(false);

            const startPresentation = () => {
                if (isStarted) return;
                setIsStarted(true);
                setIsUnrolling(true);
                
                // Thời gian cuộn là 5 giây
                setTimeout(() => {
                    setIsUnrolling(false);
                }, 5000);
            };

            const nextSlide = () => { if (currentSlide < slides.length - 1) setCurrentSlide(s => s + 1); };
            const prevSlide = () => { if (currentSlide > 0) setCurrentSlide(s => s - 1); };

            return (
                <div className="w-full h-screen flex flex-col items-center justify-center relative bg-[#0a0a0a]">
                    <Particles />
                    
                    {/* Background Decorative Element */}
                    <div className="absolute inset-0 flex items-center justify-center opacity-20 pointer-events-none">
                         <div className="w-[600px] h-[600px] rounded-full border border-[#d4af37] flex items-center justify-center">
                            <div className="w-[450px] h-[450px] border border-[#d4af37] rotate-45"></div>
                         </div>
                    </div>

                    {!isStarted ? (
                        /* Màn hình Chờ */
                        <div className="z-50 text-center flex flex-col items-center cursor-pointer group animate-fade-in" onClick={startPresentation}>
                            <h1 className="text-gold-gradient text-7xl md:text-9xl font-thuphap mb-12 drop-shadow-[0_0_25px_rgba(212,175,55,0.6)] animate-pulse">
                                Thiên Đô Chiếu
                            </h1>
                            
                            {/* Cuộn chiếu đóng */}
                            <div className="relative transition-transform duration-500 group-hover:scale-105">
                                {/* Trục trên */}
                                <div className="w-[300px] md:w-[600px] h-12 scroll-roller rounded-t-lg border-b border-[#5c4013]"></div>
                                {/* Thân chiếu đóng */}
                                <div className="w-[280px] md:w-[580px] h-4 bg-[#800000] mx-auto border-l border-r border-[#d4af37]"></div>
                                {/* Trục dưới */}
                                <div className="w-[300px] md:w-[600px] h-12 scroll-roller rounded-b-lg shadow-[0_20px_50px_rgba(0,0,0,1)]"></div>
                                
                                {/* Huy hiệu Rồng (Nút bấm) */}
                                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-[#600000] rounded-full border-4 border-[#d4af37] flex items-center justify-center shadow-[0_0_40px_rgba(212,175,55,0.6)] pulse-glow z-50">
                                    <span className="text-[#d4af37] font-thuphap text-3xl pt-1">Mở</span>
                                </div>
                            </div>
                            
                            <p className="mt-16 text-[#fcebb6] font-cungdinh text-xl tracking-[0.4em] uppercase opacity-70 group-hover:opacity-100 transition-opacity">
                                Lý Thái Tổ • 1010
                            </p>
                        </div>
                    ) : (
                        /* Màn hình Chiếu đã mở */
                        <div className="flex flex-col items-center relative z-10 w-full h-full justify-center">
                            
                            {/* Trục cuốn TRÊN */}
                            <div className="w-[92vw] max-w-5xl h-12 md:h-16 scroll-roller rounded-full flex justify-between px-1 z-30 shrink-0">
                                <div className="w-16 md:w-24 h-16 md:h-24 roller-end rounded-full -ml-8 md:-ml-12 self-center relative">
                                    <div className="absolute inset-2 border border-[#8e6d13] rounded-full opacity-50"></div>
                                </div>
                                <div className="w-16 md:w-24 h-16 md:h-24 roller-end rounded-full -mr-8 md:-mr-12 self-center relative">
                                    <div className="absolute inset-2 border border-[#8e6d13] rounded-full opacity-50"></div>
                                </div>
                            </div>

                            {/* PHẦN GIẤY CHIẾU (Animation Area) */}
                            <div className="paper-container" style={{ height: isStarted ? '70vh' : '0px' }}>
                                <div className="paper-bg w-full h-full">
                                    <div className="dragon-bg"></div>
                                    
                                    {/* Nội dung bên trong chiếu */}
                                    <div className={`relative w-full h-full flex items-center justify-center transition-opacity duration-1000 delay-[2000ms] ${isUnrolling ? 'opacity-0' : 'opacity-100'}`}>
                                        
                                        {/* Slide Content */}
                                        {slides.map((s, i) => (
                                            <div key={i} 
                                                className={`absolute inset-0 p-8 md:p-16 flex flex-col items-center justify-center transition-all duration-1000 ease-in-out transform
                                                ${currentSlide === i ? 'opacity-100 translate-y-0 scale-100' : 'opacity-0 translate-y-8 scale-95 pointer-events-none'}`}>
                                                
                                                {s.type === "intro" ? (
                                                    <div className="text-center w-full border-4 border-double border-[#d4af37]/30 p-8 md:p-12 bg-black/10 backdrop-blur-[1px]">
                                                        <h2 className="text-6xl md:text-8xl font-thuphap text-gold-gradient mb-6 drop-shadow-md">{s.title}</h2>
                                                        <p className="text-2xl md:text-3xl italic text-[#fcebb6] mb-8 font-cungdinh opacity-90">{s.subtitle}</p>
                                                        
                                                        <div className="flex items-center justify-center gap-4 mb-8 opacity-60">
                                                            <div className="h-[1px] w-20 bg-[#d4af37]"></div>
                                                            <div className="w-2 h-2 rotate-45 bg-[#d4af37]"></div>
                                                            <div className="h-[1px] w-20 bg-[#d4af37]"></div>
                                                        </div>

                                                        <p className="text-4xl md:text-6xl font-bold uppercase tracking-[0.15em] text-gold-solid mb-4 font-cungdinh">{s.content}</p>
                                                        <p className="mt-4 text-xl md:text-2xl text-[#e6c200] font-noidung tracking-widest">{s.subContent}</p>
                                                    </div>
                                                ) : (
                                                    <div className="w-full h-full flex flex-col justify-center">
                                                        <div className="text-center mb-6 md:mb-10 border-b border-[#d4af37]/40 pb-4 mx-auto w-3/4">
                                                            <span className="text-[#fcebb6] uppercase tracking-[0.3em] font-bold text-sm block mb-2 opacity-80">{s.title}</span>
                                                            <h2 className="text-5xl md:text-7xl font-thuphap text-gold-gradient">{s.heading}</h2>
                                                        </div>
                                                        <div className="flex-1 overflow-y-auto px-4 custom-scrollbar flex items-center justify-center">
                                                            <ul className="text-left space-y-6 md:space-y-8 max-w-3xl mx-auto w-full">
                                                                {s.points.map((p, idx) => (
                                                                    <li key={idx} className="flex gap-4 text-xl md:text-3xl font-noidung text-[#fffae0] font-medium leading-relaxed items-start">
                                                                        <span className="text-[#d4af37] text-2xl mt-1">❖</span> 
                                                                        <span className="drop-shadow-md">{p}</span>
                                                                    </li>
                                                                ))}
                                                            </ul>
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            {/* Trục cuốn DƯỚI */}
                            <div className="w-[92vw] max-w-5xl h-12 md:h-16 scroll-roller rounded-full flex justify-between px-1 z-30 shadow-[0_-5px_30px_rgba(0,0,0,0.6)] shrink-0 mt-[-5px]">
                                <div className="w-16 md:w-24 h-16 md:h-24 roller-end rounded-full -ml-8 md:-ml-12 self-center relative flex items-center justify-center">
                                    <div className="w-2 h-2 bg-[#332200] rounded-full opacity-60"></div>
                                </div>
                                <div className="w-16 md:w-24 h-16 md:h-24 roller-end rounded-full -mr-8 md:-mr-12 self-center relative flex items-center justify-center">
                                     <div className="w-2 h-2 bg-[#332200] rounded-full opacity-60"></div>
                                </div>
                                {/* Tua rua trang trí */}
                                <div className="absolute left-16 md:left-24 bottom-[-60px] flex flex-col items-center">
                                    <div className="w-1 h-16 bg-[#b8860b]"></div>
                                    <div className="w-4 h-12 bg-gradient-to-b from-[#d4af37] to-[#800000] rounded-b-full"></div>
                                </div>
                                <div className="absolute right-16 md:right-24 bottom-[-60px] flex flex-col items-center">
                                    <div className="w-1 h-16 bg-[#b8860b]"></div>
                                    <div className="w-4 h-12 bg-gradient-to-b from-[#d4af37] to-[#800000] rounded-b-full"></div>
                                </div>
                            </div>

                            {/* Bộ điều khiển (Chỉ hiện khi cuộn xong) */}
                            <div className={`fixed bottom-6 transition-all duration-1000 ${isUnrolling ? 'opacity-0 translate-y-10' : 'opacity-100 translate-y-0'} delay-500`}>
                                <div className="flex gap-8 items-center bg-black/80 backdrop-blur-md p-3 px-8 rounded-full border border-[#d4af37]/50 shadow-[0_0_20px_rgba(212,175,55,0.2)]">
                                    <button onClick={prevSlide} disabled={currentSlide === 0} 
                                        className="text-[#d4af37] disabled:opacity-30 hover:scale-125 transition-all p-2 rounded-full hover:bg-[#d4af37]/10">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m15 18-6-6 6-6"/></svg>
                       
